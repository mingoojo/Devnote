# 🔍 3. \[JS] 자바스크립트의 작동원리

## Javascript란

자바스크립트는 동기 방식의 싱글스레드(Single Thread)기반의 언어이다. 즉, 한번에 하나의 작업을 위에서부터 한줄씩 읽어가며 처리해 나가는 방식이다. 그러나 자바스크립트는 비동기 처리가 가능하다. 그전에 스레드는 무엇인지 알아보자



### 싱글스레드(Single Thread)와 멀티스레드(Multi Thread)

* 스레드(Thread) :  프로세스가 할당받은 자원을 이용하는 실행의 단위를 의미한다.

<figure><img src="../../.gitbook/assets/image (4).png" alt=""><figcaption></figcaption></figure>

#### 싱글 스레드

싱글 스레드는 하나의 힙과 콜 스택을 가진다. 하나의 콜 스택을 가진다는 건 하나의 컨베이어 벨트를 가진다는 것과 같다. 즉 앞에 물건이 도착하지 않으면 뒤에 물건은 절대 도착할 수 없다.&#x20;

<figure><img src="../../.gitbook/assets/image (3) (1).png" alt=""><figcaption></figcaption></figure>

* Memory Heap : 변수나 객체의 메모리 할당이 일어나는 곳
* Call Stack : 코드 실행에 따라 호출 스택이 쌓이는 곳

#### 멀티 스레드

멀티 스레드는 싱글스레드와 다르게 여러개의 힙과 콜스택을 가진다. 즉 여러개의 컨베이어 밸트를 가지고 있어서 하나의 컨베이어 벨트가 밀리면 다른 컨베이어 벨트를 활용해 물건을 옮길 수 있다는 뜻이다.



### 자바스크립트 런타임

자바스크립트는 브라우저나 모바일과 같은 환경에서 작동한다. 즉 Chrome과 같은 브라우저가 자바스크립트 언어를 읽고 구동되는 방식인데 **런타임은 이렇게 언어로 만든 프로그램을 실행할 수 있는 환경을 의미한다.** 동기적으로 작동하는 자바스크립트가 비동기적으로 프로그램을 처리를 할 수 있는 이유도 런타임 환경이 제공하는 비동기적 환경 덕분이다.

<figure><img src="../../.gitbook/assets/image (2) (1) (1).png" alt=""><figcaption></figcaption></figure>

#### 런타임 환경이 제공하는 것

#### web API

웹 API는 브라우저에서 제공되는 API이다. 자바스크립트 엔진에서 정의되지 않았던 `setTimeout`이나 `AJAX(실시간 서버통신)`, `DOM이벤트` 등의 메소드를 지원한다.

#### Task Queue

이벤트 발생 후 호출 되어야 할 콜백 함수들이 기다리는 공간이다. 이벤트 큐가 정한 순서대로 콜백되어야 하는 Task들이 순차적으로 줄을 서 있는 공간이다.

#### Event Loop

이벤트 루프는 콜 스택과 큐의 상태를 관찰하여 큐에 대기중인 함수들을 콜 스택에 쌓는 역할을 한다.



이러한 자바스크립트의 런타임 덕분에 자바스크립트에서 비동기적으로 코드를 읽어나갈 수 있다.



참고 : [https://velog.io/@daybreak/js-operating](https://velog.io/@daybreak/js-operating)



